<?xml version="1.0" encoding="UTF-8"?>
<bpws:process exitOnStandardFault="no"
    name="mx.com.elektra.salesmanagement.subprocesses.search.SearchParameter"
    suppressJoinFailure="yes"
    targetNamespace="http://xmlns.example.com/20180529151441"
    xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
    xmlns:info="http://www.tibco.com/bw/process/info"
    xmlns:ns="http://www.tibco.com/pe/EngineTypes"
    xmlns:ns0="http://xmlns.example.com/Search/parameters"
    xmlns:ns1="/T1527624770657Converted/JsonSchema"
    xmlns:ns10="/v1/portfolioweb/T1528408082823Converted/JsonSchema"
    xmlns:ns11="http://schemas.tibco.com/bw/plugins/basic/6.0/Exceptions"
    xmlns:ns12="http://tns.tibco.com/bw/json/1528840160866"
    xmlns:ns13="http://www.elektra.com.mx/references/C360CustomerPhoto"
    xmlns:ns14="http://tns.tibco.com/bw/palette/internal/accumulateoutput+47177f59-498f-40fb-a619-6aaf00c95b81"
    xmlns:ns15="http://www.example.org/SearchUniqueCustomerSchema"
    xmlns:ns2="activity.jsonParser.input+ea2364d2-fefb-4b83-a6f4-71737ff2802c+ActivityInputType"
    xmlns:ns3="http://www.elektra.com.mx/sales/processes/CreditLineQuery"
    xmlns:ns4="http://www.tibco.com/pe/WriteToLogActivitySchema"
    xmlns:ns5="http://tns.tibco.com/bw/json/1527812089498"
    xmlns:ns6="http://tns.tibco.com/bw/json/1528303837507"
    xmlns:ns7="http://tns.tibco.com/bw/palette/internal/accumulateoutput+9e2b1415-46e6-4309-b255-2f203f03754f"
    xmlns:ns8="http://tns.tibco.com/bw/palette/internal/accumulateoutput+d3e88d15-60fe-4097-977f-7df9fc03581b"
    xmlns:ns9="http://tns.tibco.com/bw/json/1528415892858"
    xmlns:sca="http://docs.oasis-open.org/ns/opencsa/sca/200912"
    xmlns:sca-bpel="http://docs.oasis-open.org/ns/opencsa/sca-bpel/200801"
    xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"
    xmlns:tibprop="http://ns.tibco.com/bw/property" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <tibex:Types>
        <xs:schema attributeFormDefault="unqualified"
            elementFormDefault="qualified"
            targetNamespace="http://www.tibco.com/pe/EngineTypes"
            xmlns:tns="http://www.tibco.com/pe/EngineTypes" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <xs:complexType block="extension restriction"
                final="extension restriction" name="ErrorReport">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="StackTrace" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="FullClass" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Class" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="OptionalErrorReport">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="StackTrace" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="FullClass" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Class" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="FaultDetail">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ActivityName" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="StackTrace" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="FullClass" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Class" type="xs:string"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="ProcessContext">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="JobId" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ApplicationName" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="EngineName" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessInstanceId" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="CustomJobId" type="xs:string"/>
                    <!--xs:element name="RestartedFromCheckpoint" form="unqualified" block="extension restriction substitution" type="xs:boolean"/-->
                    <!--xs:element minOccurs="0" maxOccurs="unbounded" name="TrackingInfo" form="unqualified" block="extension restriction substitution" type="xs:string"/-->
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="anydata">
                <xs:sequence>
                    <xs:any namespace="##any" processContents="lax"/>
                </xs:sequence>
            </xs:complexType>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="OptionalErrorReport" type="tns:OptionalErrorReport"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="ErrorReport" type="tns:ErrorReport"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="FaultDetail" type="tns:FaultDetail"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="ProcessContext" type="tns:ProcessContext"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="CorrelationValue" type="xs:string"/>
        </xs:schema>
        <schema attributeFormDefault="unqualified"
            elementFormDefault="unqualified"
            targetNamespace="http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions"
            version="" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions">
            <complexType name="ActivityExceptionType">
                <sequence>
                    <element name="msg" type="string"/>
                    <element minOccurs="0" name="msgCode" type="string"/>
                </sequence>
            </complexType>
            <element name="ActivityException" type="tns:ActivityExceptionType"/>
            <complexType name="ActivityTimedOutExceptionType">
                <complexContent>
                    <extension base="tns:ActivityExceptionType"/>
                </complexContent>
            </complexType>
            <element name="ActivityTimedOutException" type="tns:ActivityTimedOutExceptionType"/>
            <complexType name="DuplicateKeyExceptionType">
                <complexContent>
                    <extension base="tns:ActivityExceptionType">
                        <sequence>
                            <element name="duplicateKey" type="string"/>
                            <element minOccurs="0" name="previousJobID" type="string"/>
                        </sequence>
                    </extension>
                </complexContent>
            </complexType>
            <element name="DuplicateKeyException" type="tns:DuplicateKeyExceptionType"/>
        </schema>
        <wsdl:definitions
            targetNamespace="http://xmlns.example.com/20180529151441"
            xmlns:tns="http://xmlns.example.com/20180529151441"
            xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop"
            xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema"/>
    </tibex:Types>
    <tibex:ProcessInfo callable="true" createdBy="cramirezc"
        createdOn="Tue May 29 15:14:41 CDT 2018" description=""
        extraErrorVars="false" modifiers="public"
        productVersion="6.4.1 V22 2017-08-17" scalable="true"
        singleton="true" stateless="false" type="IT"/>
    <tibex:ProcessInterface context=""
        input="{http://xmlns.example.com/Search/parameters}searchGetParameters" output="{http://tns.tibco.com/bw/json/1528840160866}SearchCustomerElement"/>
    <tibex:ProcessTemplateConfigurations/>
    <notation:Diagram measurementUnit="Pixel" type="BWProcess"
        xmlns:bwnotation="http://tns.tibco.com/bw/runtime/BWNotation"
        xmlns:notation="http://www.eclipse.org/gmf/runtime/1.0.2/notation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <children type="2001">
            <children type="5001"/>
            <children type="3002">
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
            </children>
            <children type="3003">
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
            </children>
            <children type="3004">
                <children type="4018">
                    <children type="3018">
                        <children type="4020">
                            <children type="3020">
                                <children type="4005">
                                    <children type="3007">
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.0"/>
                                    <layoutConstraint x="23"
                                    xsi:type="notation:Bounds" y="96"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.1"/>
                                    <layoutConstraint x="696"
                                    xsi:type="notation:Bounds" y="96"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.2"/>
                                    <layoutConstraint x="234"
                                    xsi:type="notation:Bounds" y="16"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.3"/>
                                    <layoutConstraint x="234"
                                    xsi:type="notation:Bounds" y="96"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.4"/>
                                    <layoutConstraint x="234"
                                    xsi:type="notation:Bounds" y="179"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.mapper">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.5"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="358"
                                    xsi:type="notation:Bounds" y="96"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.mapper">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.6"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="122"
                                    xsi:type="notation:Bounds" y="96"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.mapper">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.7"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="122"
                                    xsi:type="notation:Bounds" y="179"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.8"/>
                                    <layoutConstraint x="467"
                                    xsi:type="notation:Bounds" y="96"/>
                                    </children>
                                    <children type="4002 bw.generalactivities.mapper">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.9"/>
                                    <layoutConstraint
                                    height="40" width="40"
                                    x="577"
                                    xsi:type="notation:Bounds" y="96"/>
                                    </children>
                                    <styles xsi:type="notation:DrawerStyle"/>
                                    <styles xsi:type="notation:SortingStyle"/>
                                    <styles xsi:type="notation:FilteringStyle"/>
                                    <element href="//0/@process/@activity/@activity"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <styles xsi:type="bwnotation:ResizingStyle"/>
                                    <element href="//0/@process/@activity/@activity"/>
                                    <layoutConstraint height="330"
                                    width="847" xsi:type="notation:Bounds"/>
                                </children>
                                <styles xsi:type="notation:SortingStyle"/>
                                <styles xsi:type="notation:FilteringStyle"/>
                            </children>
                            <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
                            <styles xsi:type="bwnotation:BackgroundStyle"/>
                            <styles xsi:type="bwnotation:ResizingStyle"/>
                            <element href="//0/@process/@activity"/>
                            <layoutConstraint height="318" width="1099" xsi:type="notation:Bounds"/>
                        </children>
                        <styles xsi:type="notation:SortingStyle"/>
                        <styles xsi:type="notation:FilteringStyle"/>
                        <element href="//0/@process/@activity"/>
                    </children>
                    <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
                    <styles xsi:type="bwnotation:BackgroundStyle"/>
                    <styles xsi:type="bwnotation:ResizingStyle"/>
                    <element href="//0/@process/@activity"/>
                    <layoutConstraint height="351" width="1099" x="1"
                        xsi:type="notation:Bounds" y="1"/>
                </children>
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
                <element href="//0/@process"/>
            </children>
            <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
            <element href="//0/@process"/>
            <layoutConstraint height="406" width="1192" xsi:type="notation:Bounds"/>
        </children>
        <styles xsi:type="notation:DiagramStyle"/>
        <element href="//0"/>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.6" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.0"/>
            <bendpoints
                points="[25, 0, -138, 1]$[82, 0, -81, 1]$[82, -1, -81, 0]$[139, -1, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.7" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.1"/>
            <bendpoints
                points="[0, 25, -99, -58]$[0, 83, -99, 0]$[75, 83, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.2"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.5" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.2"/>
            <bendpoints
                points="[25, 0, -99, -80]$[124, 0, 0, -80]$[124, 56, 0, -24]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.3"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.5" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.3"/>
            <bendpoints points="[25, 8, -378, 0]$[231, 0, -172, -8]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.2" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.4"/>
            <bendpoints
                points="[0, -24, -211, 56]$[0, -80, -211, 0]$[187, -80, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.6"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.3" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.5"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.7"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.6"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.8"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.9" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.7"/>
            <bendpoints points="[25, 0, -75, 0]$[76, 0, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.5"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.8" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.8"/>
            <bendpoints points="[25, 0, -99, 0]$[100, 0, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.1" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.9"/>
            <bendpoints
                points="[25, 0, -437, 83]$[462, 0, 0, 83]$[462, -58, 0, 25]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.9"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.1" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.10"/>
            <bendpoints points="[25, 0, -94, 0]$[95, 0, -24, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
    </notation:Diagram>
    <tibex:NamespaceRegistry enabled="true">
        <tibex:namespaceItem
            namespace="http://tns.tibco.com/bw/json/1528415892858" prefix="tns1"/>
        <tibex:namespaceItem
            namespace="http://www.w3.org/2001/XMLSchema-instance" prefix="xsi"/>
        <tibex:namespaceItem
            namespace="http://www.elektra.com.mx/sales/processes/CreditLineQuery" prefix="tns"/>
        <tibex:namespaceItem
            namespace="http://www.w3.org/2001/XMLSchema" prefix="xsd"/>
        <tibex:namespaceItem
            namespace="http://tns.tibco.com/bw/json/1528840160866" prefix="tns2"/>
    </tibex:NamespaceRegistry>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://xmlns.example.com/Search/parameters"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="/T1527624770657Converted/JsonSchema"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.elektra.com.mx/sales/processes/CreditLineQuery"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="../../../../../../../Schemas/SalesSearchAPI.xsd" namespace="/T1527624770657Converted/JsonSchema"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://tns.tibco.com/bw/json/1528840160866"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="../../../../../../../Schemas/ResponseDatosClienteResource.xsd" namespace="http://tns.tibco.com/bw/json/1528415892858"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.elektra.com.mx/references/C360CustomerPhoto"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://tns.tibco.com/bw/json/1528840160866"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.example.org/SearchUniqueCustomerSchema"/>
    <bpws:variables>
        <bpws:variable element="ns:ProcessContext"
            name="_processContext" sca-bpel:internal="true"/>
        <bpws:variable element="ns0:searchGetParameters" name="Start"
            sca-bpel:internal="true" tibex:parameter="in"/>
        <bpws:variable element="ns12:SearchCustomerElement"
            name="End-input" sca-bpel:internal="true" tibex:parameter="out"/>
        <bpws:variable element="ns12:SearchForCart"
            name="GetCustomerForCart-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns9:ResponseDatosClienteElement"
            name="GetCustomerForCart" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchForCU"
            name="GetCustomerForCU-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchForName"
            name="GetCustomerForName-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns9:ResponseDatosClienteElement"
            name="GetCustomerForName" sca-bpel:internal="true"/>
        <bpws:variable element="ns9:ResponseDatosClienteElement"
            name="GetCustomerForCU" sca-bpel:internal="true"/>
        <bpws:variable element="ns3:Start" name="CreditLineQuery-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns3:End" name="CreditLineQuery" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchCustomerElement"
            name="MapCustomerAcu-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchCustomerElement"
            name="MapCustomerAcu" sca-bpel:internal="true"/>
        <bpws:variable element="ns9:ResponseDatosClienteElement"
            name="MapCustomers-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns9:ResponseDatosClienteElement"
            name="MapCustomers" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchForCU" name="MapCU-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchForCU" name="MapCU" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchForName" name="MapName-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns12:SearchForName" name="MapName" sca-bpel:internal="true"/>
        <bpws:variable name="host" sca-bpel:hotUpdate="false"
            sca-bpel:privateProperty="true" sca-bpel:property="yes"
            tibex:propertySource="/mx.com.salesmanagementapplication/Connection/photo/host" type="xsd:string"/>
        <bpws:variable name="port" sca-bpel:hotUpdate="false"
            sca-bpel:privateProperty="true" sca-bpel:property="yes"
            tibex:propertySource="/mx.com.salesmanagementapplication/Connection/photo/port" type="xsd:int"/>
        <bpws:variable name="url" sca-bpel:hotUpdate="false"
            sca-bpel:privateProperty="true" sca-bpel:property="yes"
            tibex:propertySource="/mx.com.salesmanagementapplication/Connection/photo/url" type="xsd:string"/>
    </bpws:variables>
    <bpws:extensions>
        <bpws:extension mustUnderstand="no" namespace="http://www.eclipse.org/gmf/runtime/1.0.2/notation"/>
        <bpws:extension mustUnderstand="no" namespace="http://www.tibco.com/bw/process/info"/>
        <bpws:extension mustUnderstand="no" namespace="http://docs.oasis-open.org/ns/opencsa/sca-bpel/200801"/>
        <bpws:extension mustUnderstand="no" namespace="http://docs.oasis-open.org/ns/opencsa/sca/200912"/>
        <bpws:extension mustUnderstand="no" namespace="http://ns.tibco.com/bw/property"/>
        <bpws:extension mustUnderstand="no" namespace="http://www.tibco.com/bpel/2007/extensions"/>
    </bpws:extensions>
    <bpws:scope name="scope">
        <bpws:flow name="flow">
            <bpws:links>
                <bpws:link name="StartToGetCustomerForCU" tibex:linkType="SUCCESSWITHNOCONDITION"/>
                <bpws:link name="StartToGetCustomerForName" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="GetCustomerForCartToMapper" tibex:linkType="SUCCESS"/>
                <bpws:link name="GetCustomerForCUToMapper" tibex:linkType="SUCCESS"/>
                <bpws:link name="StartToGetCustomerForCart" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="MapperToGetCustomerForCU" tibex:linkType="SUCCESS"/>
                <bpws:link name="MapperToGetCustomerForName" tibex:linkType="SUCCESS"/>
                <bpws:link name="CreditLineQueryToMapCustomerAcu" tibex:linkType="SUCCESS"/>
                <bpws:link name="MapCustomersToCreditLineQuery" tibex:linkType="SUCCESS"/>
                <bpws:link name="GetCustomerForNameToEnd" tibex:linkType="SUCCESS"/>
                <bpws:link name="MapCustomerAcuToEnd" tibex:linkType="SUCCESS"/>
            </bpws:links>
            <bpws:extensionActivity>
                <tibex:receiveEvent createInstance="yes"
                    eventTimeout="0" name="Start"
                    tibex:xpdlId="29338472-5b2d-43fa-9d87-5c4422c93e9b"
                    variable="Start" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets/>
                    <bpws:sources>
                        <bpws:source linkName="StartToGetCustomerForCU">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="##otherwise##" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition><![CDATA[##otherwise##]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="StartToGetCustomerForCart">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="compare(substring($Start/ns0:reference, 1, 1) , '4') = 0 and string-length($Start/ns0:reference)=16 and not(number($Start/ns0:reference)) = false()" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"><![CDATA[compare(substring($Start/ns0:reference, 1, 1) , '4') = 0 and string-length($Start/ns0:reference)=16 and not(number($Start/ns0:reference)) = false()]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="StartToGetCustomerForName">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="not(number($Start/ns0:reference)) = true()" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"><![CDATA[not(number($Start/ns0:reference)) = true()]]></bpws:transitionCondition>
                        </bpws:source>
                    </bpws:sources>
                    <tibex:eventSource>
                        <tibex:StartEvent xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                    </tibex:eventSource>
                </tibex:receiveEvent>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension inputVariable="End-input"
                    name="End"
                    tibex:xpdlId="4ca6cf50-21fe-4528-9abf-fc9b8715ea5c" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="GetCustomerForNameToEnd"/>
                        <bpws:target linkName="MapCustomerAcuToEnd"/>
                    </bpws:targets>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/json/1528840160866&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/json/1528415892858&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;GetCustomerForName&quot;/>&lt;xsl:param name=&quot;MapCustomerAcu&quot;/>&lt;xsl:param name=&quot;MapCustomers&quot;/>&lt;xsl:template name=&quot;End-input&quot; match=&quot;/&quot;>&lt;xsl:choose>&lt;xsl:when test=&quot;exists($MapCustomerAcu)&quot;>&lt;tns2:SearchCustomerElement>&lt;xsl:for-each select=&quot;$MapCustomerAcu/tns2:Customers&quot;>&lt;tns2:Customers>&lt;xsl:copy-of select=&quot;tns2:uniquecustomerNumber&quot;/>&lt;xsl:if test=&quot;tns2:name&quot;>&lt;tns2:name>&lt;xsl:value-of select=&quot;tns2:name&quot;/>&lt;/tns2:name>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:firstLastName&quot;>&lt;tns2:firstLastName>&lt;xsl:value-of select=&quot;tns2:firstLastName&quot;/>&lt;/tns2:firstLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:secondLastName&quot;>&lt;tns2:secondLastName>&lt;xsl:value-of select=&quot;tns2:secondLastName&quot;/>&lt;/tns2:secondLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:birthDate&quot;>&lt;tns2:birthDate>&lt;xsl:value-of select=&quot;tns2:birthDate&quot;/>&lt;/tns2:birthDate>&lt;/xsl:if>&lt;xsl:for-each select=&quot;tns2:email&quot;>&lt;tns2:email>&lt;xsl:value-of select=&quot;.&quot;/>&lt;/tns2:email>&lt;/xsl:for-each>&lt;xsl:copy-of select=&quot;tns2:phones&quot;/>&lt;xsl:copy-of select=&quot;tns2:address&quot;/>&lt;xsl:if test=&quot;tns2:totalPaymentCapacity&quot;>&lt;tns2:totalPaymentCapacity>&lt;xsl:value-of select=&quot;tns2:totalPaymentCapacity&quot;/>&lt;/tns2:totalPaymentCapacity>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:paymentCapacityAvailable&quot;>&lt;tns2:paymentCapacityAvailable>&lt;xsl:value-of select=&quot;tns2:paymentCapacityAvailable&quot;/>&lt;/tns2:paymentCapacityAvailable>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:credlinestatus&quot;>&lt;tns2:credlinestatus>&lt;xsl:value-of select=&quot;tns2:credlinestatus&quot;/>&lt;/tns2:credlinestatus>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:cenlinestatus&quot;>&lt;tns2:cenlinestatus>&lt;xsl:value-of select=&quot;tns2:cenlinestatus&quot;/>&lt;/tns2:cenlinestatus>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:photo&quot;>&lt;tns2:photo>&lt;xsl:value-of select=&quot;tns2:photo&quot;/>&lt;/tns2:photo>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:gender&quot;>&lt;tns2:gender>&lt;xsl:value-of select=&quot;tns2:gender&quot;/>&lt;/tns2:gender>&lt;/xsl:if>&lt;xsl:if test=&quot;tns2:mount&quot;>&lt;tns2:mount>&lt;xsl:value-of select=&quot;tns2:mount&quot;/>&lt;/tns2:mount>&lt;/xsl:if>&lt;/tns2:Customers>&lt;/xsl:for-each>&lt;xsl:if test=&quot;exists($MapCustomers/tns1:error)&quot;>&lt;xsl:copy-of select=&quot;$MapCustomerAcu/tns2:CustomersNotFound&quot;/>&lt;/xsl:if>&lt;/tns2:SearchCustomerElement>&lt;/xsl:when>&lt;xsl:otherwise>&lt;tns2:SearchCustomerElement>&lt;xsl:for-each select=&quot;$GetCustomerForName/tns1:respuesta&quot;>&lt;tns2:Customers>&lt;tns2:uniquecustomerNumber>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:pais&quot;>&lt;tns2:country>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:pais&quot;/>&lt;/tns2:country>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:canal&quot;>&lt;tns2:channel>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:canal&quot;/>&lt;/tns2:channel>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:sucursal&quot;>&lt;tns2:branch>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:sucursal&quot;/>&lt;/tns2:branch>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:folio&quot;>&lt;tns2:folio>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:folio&quot;/>&lt;/tns2:folio>&lt;/xsl:if>&lt;/tns2:uniquecustomerNumber>&lt;xsl:if test=&quot;tns1:nombre&quot;>&lt;tns2:name>&lt;xsl:value-of select=&quot;tns1:nombre&quot;/>&lt;/tns2:name>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_paterno&quot;>&lt;tns2:firstLastName>&lt;xsl:value-of select=&quot;tns1:apellido_paterno&quot;/>&lt;/tns2:firstLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_materno&quot;>&lt;tns2:secondLastName>&lt;xsl:value-of select=&quot;tns1:apellido_materno&quot;/>&lt;/tns2:secondLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:fecha_nacimiento&quot;>&lt;tns2:birthDate>&lt;xsl:value-of select=&quot;tns1:fecha_nacimiento&quot;/>&lt;/tns2:birthDate>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:correo_electronico&quot;>&lt;tns2:email>&lt;xsl:value-of select=&quot;tns1:correo_electronico&quot;/>&lt;/tns2:email>&lt;/xsl:if>&lt;xsl:if test=&quot;string-length(tns1:celular)>2&quot;>&lt;tns2:phones>&lt;tns2:name>&lt;xsl:value-of select=&quot;&amp;quot;Personal&amp;quot;&quot;/>&lt;/tns2:name>&lt;xsl:if test=&quot;tns1:celular&quot;>&lt;tns2:phoneNumber>&lt;xsl:value-of select=&quot;tns1:celular&quot;/>&lt;/tns2:phoneNumber>&lt;/xsl:if>&lt;/tns2:phones>&lt;/xsl:if>&lt;xsl:if test=&quot;string-length(tns1:telefono_fijo)>2&quot;>&lt;tns2:phones>&lt;tns2:name>&lt;xsl:value-of select=&quot;&amp;quot;Casa&amp;quot;&quot;/>&lt;/tns2:name>&lt;xsl:if test=&quot;tns1:telefono_fijo&quot;>&lt;tns2:phoneNumber>&lt;xsl:value-of select=&quot;tns1:telefono_fijo&quot;/>&lt;/tns2:phoneNumber>&lt;/xsl:if>&lt;/tns2:phones>&lt;/xsl:if>&lt;tns2:address>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:calle/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:calle/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:street>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:calle&quot;/>&lt;/tns2:street>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:numero_exterior/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:numero_exterior/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:numberExt>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:numero_exterior&quot;/>&lt;/tns2:numberExt>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:numero_interior/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:numero_interior/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:numberInt>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:numero_interior&quot;/>&lt;/tns2:numberInt>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:codigo_postal/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:codigo_postal/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:postalCode>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:codigo_postal&quot;/>&lt;/tns2:postalCode>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:estado/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:estado/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:government>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:estado&quot;/>&lt;/tns2:government>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:poblacion/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:poblacion/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:town>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:poblacion&quot;/>&lt;/tns2:town>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:colonia/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:colonia/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:colony>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:colonia&quot;/>&lt;/tns2:colony>&lt;/xsl:if>&lt;/tns2:address>&lt;tns2:totalPaymentCapacity>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:totalPaymentCapacity>&lt;tns2:paymentCapacityAvailable>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:paymentCapacityAvailable>&lt;tns2:credlinestatus>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:credlinestatus>&lt;tns2:cenlinestatus>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:cenlinestatus>&lt;xsl:if test=&quot;tns1:sexo&quot;>&lt;tns2:gender>&lt;xsl:value-of select=&quot;tns1:sexo&quot;/>&lt;/tns2:gender>&lt;/xsl:if>&lt;/tns2:Customers>&lt;/xsl:for-each>&lt;xsl:if test=&quot;exists($GetCustomerForName/tns1:error)&quot;>&lt;tns2:CustomersNotFound>&lt;xsl:if test=&quot;$GetCustomerForName/tns1:error/tns1:detalle&quot;>&lt;tns2:reference>&lt;xsl:value-of select=&quot;$GetCustomerForName/tns1:error/tns1:detalle&quot;/>&lt;/tns2:reference>&lt;/xsl:if>&lt;xsl:if test=&quot;$GetCustomerForName/tns1:error/tns1:mensaje&quot;>&lt;tns2:message>&lt;xsl:value-of select=&quot;$GetCustomerForName/tns1:error/tns1:mensaje&quot;/>&lt;/tns2:message>&lt;/xsl:if>&lt;/tns2:CustomersNotFound>&lt;/xsl:if>&lt;/tns2:SearchCustomerElement>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/xsl:template>&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.internal.end"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:internalactivities="http://ns.tibco.com/bw/core/internalactivity" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/core/internalactivity#//End"/>
                                    <value xsi:type="internalactivities:End"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity
                    inputVariable="GetCustomerForCart-input"
                    name="GetCustomerForCart"
                    outputVariable="GetCustomerForCart"
                    tibex:xpdlId="807c893d-449d-4e93-93df-8303d3bbad84"
                    type="bw.generalactivities.callprocess" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="StartToGetCustomerForCart"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="GetCustomerForCartToMapper"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns3=&quot;http://xmlns.example.com/Search/parameters&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/json/1528840160866&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:template name=&quot;GetCustomerForCart-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns2:SearchForCart>&#xa;            &lt;tns2:cart>&#xa;                &lt;xsl:value-of select=&quot;xsd:integer($Start/tns3:reference)&quot;/>&#xa;            &lt;/tns2:cart>&#xa;        &lt;/tns2:SearchForCart>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:CallProcess
                        subProcessName="mx.com.elektra.salesmanagement.subprocesses.c360.GetCustomerForCart" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity
                    inputVariable="GetCustomerForCU-input"
                    name="GetCustomerForCU"
                    outputVariable="GetCustomerForCU"
                    tibex:xpdlId="3d0d7cb2-fcc6-4315-9298-816d7134282c"
                    type="bw.generalactivities.callprocess" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="MapperToGetCustomerForCU"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="GetCustomerForCUToMapper"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/json/1528840160866&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;MapCU&quot;/>&#xa;    &lt;xsl:template name=&quot;GetCustomerForCU-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns2:SearchForCU>&#xa;            &lt;xsl:if test=&quot;$MapCU/tns2:country&quot;>&#xa;                &lt;tns2:country>&#xa;                    &lt;xsl:value-of select=&quot;$MapCU/tns2:country&quot;/>&#xa;                &lt;/tns2:country>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$MapCU/tns2:channel&quot;>&#xa;                &lt;tns2:channel>&#xa;                    &lt;xsl:value-of select=&quot;$MapCU/tns2:channel&quot;/>&#xa;                &lt;/tns2:channel>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$MapCU/tns2:branch&quot;>&#xa;                &lt;tns2:branch>&#xa;                    &lt;xsl:value-of select=&quot;$MapCU/tns2:branch&quot;/>&#xa;                &lt;/tns2:branch>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$MapCU/tns2:folio&quot;>&#xa;                &lt;tns2:folio>&#xa;                    &lt;xsl:value-of select=&quot;$MapCU/tns2:folio&quot;/>&#xa;                &lt;/tns2:folio>&#xa;            &lt;/xsl:if>&#xa;        &lt;/tns2:SearchForCU>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:CallProcess
                        subProcessName="mx.com.elektra.salesmanagement.subprocesses.c360.GetCustomerForCU" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity
                    inputVariable="GetCustomerForName-input"
                    name="GetCustomerForName"
                    outputVariable="GetCustomerForName"
                    tibex:xpdlId="3eae1715-ddec-4f29-a453-2f66f6c0b8fa"
                    type="bw.generalactivities.callprocess" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="MapperToGetCustomerForName"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="GetCustomerForNameToEnd"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/json/1528840160866&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;MapName&quot;/>&#xa;    &lt;xsl:template name=&quot;GetCustomerForName-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns2:SearchForName>&#xa;            &lt;xsl:if test=&quot;$MapName/tns2:name&quot;>&#xa;                &lt;tns2:name>&#xa;                    &lt;xsl:value-of select=&quot;$MapName/tns2:name&quot;/>&#xa;                &lt;/tns2:name>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$MapName/tns2:firstName&quot;>&#xa;                &lt;tns2:firstName>&#xa;                    &lt;xsl:value-of select=&quot;$MapName/tns2:firstName&quot;/>&#xa;                &lt;/tns2:firstName>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$MapName/tns2:lastName&quot;>&#xa;                &lt;tns2:lastName>&#xa;                    &lt;xsl:value-of select=&quot;$MapName/tns2:lastName&quot;/>&#xa;                &lt;/tns2:lastName>&#xa;            &lt;/xsl:if>&#xa;        &lt;/tns2:SearchForName>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:CallProcess
                        subProcessName="mx.com.elektra.salesmanagement.subprocesses.c360.GetCustomerForName" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    inputVariable="MapCustomers-input"
                    name="MapCustomers" outputVariable="MapCustomers"
                    tibex:xpdlId="a50ee305-e964-468f-8d07-be64be6a1367" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="GetCustomerForCartToMapper"/>
                        <bpws:target linkName="GetCustomerForCUToMapper"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="MapCustomersToCreditLineQuery"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/json/1528415892858&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;GetCustomerForCU&quot;/>&lt;xsl:param name=&quot;GetCustomerForCart&quot;/>&lt;xsl:template name=&quot;MapCustomers-input&quot; match=&quot;/&quot;>&lt;xsl:choose>&lt;xsl:when test=&quot;exists($GetCustomerForCU)&quot;>&lt;tns1:ResponseDatosClienteElement>&lt;xsl:if test=&quot;$GetCustomerForCU/tns1:estatus&quot;>&lt;tns1:estatus>&lt;xsl:value-of select=&quot;$GetCustomerForCU/tns1:estatus&quot;/>&lt;/tns1:estatus>&lt;/xsl:if>&lt;xsl:for-each select=&quot;$GetCustomerForCU/tns1:respuesta&quot;>&lt;tns1:respuesta>&lt;xsl:if test=&quot;tns1:nombre&quot;>&lt;tns1:nombre>&lt;xsl:value-of select=&quot;tns1:nombre&quot;/>&lt;/tns1:nombre>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_paterno&quot;>&lt;tns1:apellido_paterno>&lt;xsl:value-of select=&quot;tns1:apellido_paterno&quot;/>&lt;/tns1:apellido_paterno>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_materno&quot;>&lt;tns1:apellido_materno>&lt;xsl:value-of select=&quot;tns1:apellido_materno&quot;/>&lt;/tns1:apellido_materno>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:fecha_nacimiento&quot;>&lt;tns1:fecha_nacimiento>&lt;xsl:value-of select=&quot;tns1:fecha_nacimiento&quot;/>&lt;/tns1:fecha_nacimiento>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:sexo&quot;>&lt;tns1:sexo>&lt;xsl:value-of select=&quot;tns1:sexo&quot;/>&lt;/tns1:sexo>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:celular&quot;>&lt;tns1:celular>&lt;xsl:value-of select=&quot;tns1:celular&quot;/>&lt;/tns1:celular>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:telefono_fijo&quot;>&lt;tns1:telefono_fijo>&lt;xsl:value-of select=&quot;tns1:telefono_fijo&quot;/>&lt;/tns1:telefono_fijo>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:correo_electronico&quot;>&lt;tns1:correo_electronico>&lt;xsl:value-of select=&quot;tns1:correo_electronico&quot;/>&lt;/tns1:correo_electronico>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:pais_nacimiento&quot;>&lt;tns1:pais_nacimiento>&lt;xsl:value-of select=&quot;tns1:pais_nacimiento&quot;/>&lt;/tns1:pais_nacimiento>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:estado_nacimiento&quot;>&lt;tns1:estado_nacimiento>&lt;xsl:value-of select=&quot;tns1:estado_nacimiento&quot;/>&lt;/tns1:estado_nacimiento>&lt;/xsl:if>&lt;xsl:for-each select=&quot;tns1:direccion&quot;>&lt;tns1:direccion>&lt;xsl:if test=&quot;tns1:calle&quot;>&lt;tns1:calle>&lt;xsl:copy-of select=&quot;tns1:calle/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:calle&quot;/>&lt;/tns1:calle>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:numero_exterior&quot;>&lt;tns1:numero_exterior>&lt;xsl:copy-of select=&quot;tns1:numero_exterior/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:numero_exterior&quot;/>&lt;/tns1:numero_exterior>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:numero_interior&quot;>&lt;tns1:numero_interior>&lt;xsl:copy-of select=&quot;tns1:numero_interior/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:numero_interior&quot;/>&lt;/tns1:numero_interior>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:codigo_postal&quot;>&lt;tns1:codigo_postal>&lt;xsl:copy-of select=&quot;tns1:codigo_postal/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:codigo_postal&quot;/>&lt;/tns1:codigo_postal>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:estado&quot;>&lt;tns1:estado>&lt;xsl:copy-of select=&quot;tns1:estado/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:estado&quot;/>&lt;/tns1:estado>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:poblacion&quot;>&lt;tns1:poblacion>&lt;xsl:copy-of select=&quot;tns1:poblacion/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:poblacion&quot;/>&lt;/tns1:poblacion>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:colonia&quot;>&lt;tns1:colonia>&lt;xsl:copy-of select=&quot;tns1:colonia/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:colonia&quot;/>&lt;/tns1:colonia>&lt;/xsl:if>&lt;/tns1:direccion>&lt;/xsl:for-each>&lt;xsl:for-each select=&quot;tns1:cliente_unico&quot;>&lt;tns1:cliente_unico>&lt;xsl:if test=&quot;tns1:pais&quot;>&lt;tns1:pais>&lt;xsl:value-of select=&quot;tns1:pais&quot;/>&lt;/tns1:pais>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:canal&quot;>&lt;tns1:canal>&lt;xsl:value-of select=&quot;tns1:canal&quot;/>&lt;/tns1:canal>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:sucursal&quot;>&lt;tns1:sucursal>&lt;xsl:value-of select=&quot;tns1:sucursal&quot;/>&lt;/tns1:sucursal>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:folio&quot;>&lt;tns1:folio>&lt;xsl:value-of select=&quot;tns1:folio&quot;/>&lt;/tns1:folio>&lt;/xsl:if>&lt;/tns1:cliente_unico>&lt;/xsl:for-each>&lt;xsl:for-each select=&quot;tns1:cliente_tienda&quot;>&lt;tns1:cliente_tienda>&lt;xsl:if test=&quot;tns1:negocio&quot;>&lt;tns1:negocio>&lt;xsl:value-of select=&quot;tns1:negocio&quot;/>&lt;/tns1:negocio>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:tienda&quot;>&lt;tns1:tienda>&lt;xsl:value-of select=&quot;tns1:tienda&quot;/>&lt;/tns1:tienda>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente&quot;>&lt;tns1:cliente>&lt;xsl:value-of select=&quot;tns1:cliente&quot;/>&lt;/tns1:cliente>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:digito_verificador&quot;>&lt;tns1:digito_verificador>&lt;xsl:value-of select=&quot;tns1:digito_verificador&quot;/>&lt;/tns1:digito_verificador>&lt;/xsl:if>&lt;/tns1:cliente_tienda>&lt;/xsl:for-each>&lt;/tns1:respuesta>&lt;/xsl:for-each>&lt;xsl:for-each select=&quot;$GetCustomerForCU/tns1:error&quot;>&lt;tns1:error>&lt;xsl:if test=&quot;tns1:codigo&quot;>&lt;tns1:codigo>&lt;xsl:value-of select=&quot;tns1:codigo&quot;/>&lt;/tns1:codigo>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:detalle&quot;>&lt;tns1:detalle>&lt;xsl:value-of select=&quot;tns1:detalle&quot;/>&lt;/tns1:detalle>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:mensaje&quot;>&lt;tns1:mensaje>&lt;xsl:value-of select=&quot;tns1:mensaje&quot;/>&lt;/tns1:mensaje>&lt;/xsl:if>&lt;/tns1:error>&lt;/xsl:for-each>&lt;/tns1:ResponseDatosClienteElement>&lt;/xsl:when>&lt;xsl:otherwise>&lt;tns1:ResponseDatosClienteElement>&lt;xsl:if test=&quot;$GetCustomerForCart/tns1:estatus&quot;>&lt;tns1:estatus>&lt;xsl:value-of select=&quot;$GetCustomerForCart/tns1:estatus&quot;/>&lt;/tns1:estatus>&lt;/xsl:if>&lt;xsl:for-each select=&quot;$GetCustomerForCart/tns1:respuesta&quot;>&lt;tns1:respuesta>&lt;xsl:if test=&quot;tns1:nombre&quot;>&lt;tns1:nombre>&lt;xsl:value-of select=&quot;tns1:nombre&quot;/>&lt;/tns1:nombre>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_paterno&quot;>&lt;tns1:apellido_paterno>&lt;xsl:value-of select=&quot;tns1:apellido_paterno&quot;/>&lt;/tns1:apellido_paterno>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_materno&quot;>&lt;tns1:apellido_materno>&lt;xsl:value-of select=&quot;tns1:apellido_materno&quot;/>&lt;/tns1:apellido_materno>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:fecha_nacimiento&quot;>&lt;tns1:fecha_nacimiento>&lt;xsl:value-of select=&quot;tns1:fecha_nacimiento&quot;/>&lt;/tns1:fecha_nacimiento>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:sexo&quot;>&lt;tns1:sexo>&lt;xsl:value-of select=&quot;tns1:sexo&quot;/>&lt;/tns1:sexo>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:celular&quot;>&lt;tns1:celular>&lt;xsl:value-of select=&quot;tns1:celular&quot;/>&lt;/tns1:celular>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:telefono_fijo&quot;>&lt;tns1:telefono_fijo>&lt;xsl:value-of select=&quot;tns1:telefono_fijo&quot;/>&lt;/tns1:telefono_fijo>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:correo_electronico&quot;>&lt;tns1:correo_electronico>&lt;xsl:value-of select=&quot;tns1:correo_electronico&quot;/>&lt;/tns1:correo_electronico>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:pais_nacimiento&quot;>&lt;tns1:pais_nacimiento>&lt;xsl:value-of select=&quot;tns1:pais_nacimiento&quot;/>&lt;/tns1:pais_nacimiento>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:estado_nacimiento&quot;>&lt;tns1:estado_nacimiento>&lt;xsl:value-of select=&quot;tns1:estado_nacimiento&quot;/>&lt;/tns1:estado_nacimiento>&lt;/xsl:if>&lt;xsl:for-each select=&quot;tns1:direccion&quot;>&lt;tns1:direccion>&lt;xsl:if test=&quot;tns1:calle&quot;>&lt;tns1:calle>&lt;xsl:copy-of select=&quot;tns1:calle/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:calle&quot;/>&lt;/tns1:calle>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:numero_exterior&quot;>&lt;tns1:numero_exterior>&lt;xsl:copy-of select=&quot;tns1:numero_exterior/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:numero_exterior&quot;/>&lt;/tns1:numero_exterior>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:numero_interior&quot;>&lt;tns1:numero_interior>&lt;xsl:copy-of select=&quot;tns1:numero_interior/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:numero_interior&quot;/>&lt;/tns1:numero_interior>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:codigo_postal&quot;>&lt;tns1:codigo_postal>&lt;xsl:copy-of select=&quot;tns1:codigo_postal/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:codigo_postal&quot;/>&lt;/tns1:codigo_postal>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:estado&quot;>&lt;tns1:estado>&lt;xsl:copy-of select=&quot;tns1:estado/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:estado&quot;/>&lt;/tns1:estado>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:poblacion&quot;>&lt;tns1:poblacion>&lt;xsl:copy-of select=&quot;tns1:poblacion/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:poblacion&quot;/>&lt;/tns1:poblacion>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:colonia&quot;>&lt;tns1:colonia>&lt;xsl:copy-of select=&quot;tns1:colonia/@xsi:nil&quot;/>&lt;xsl:value-of select=&quot;tns1:colonia&quot;/>&lt;/tns1:colonia>&lt;/xsl:if>&lt;/tns1:direccion>&lt;/xsl:for-each>&lt;xsl:for-each select=&quot;tns1:cliente_unico&quot;>&lt;tns1:cliente_unico>&lt;xsl:if test=&quot;tns1:pais&quot;>&lt;tns1:pais>&lt;xsl:value-of select=&quot;tns1:pais&quot;/>&lt;/tns1:pais>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:canal&quot;>&lt;tns1:canal>&lt;xsl:value-of select=&quot;tns1:canal&quot;/>&lt;/tns1:canal>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:sucursal&quot;>&lt;tns1:sucursal>&lt;xsl:value-of select=&quot;tns1:sucursal&quot;/>&lt;/tns1:sucursal>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:folio&quot;>&lt;tns1:folio>&lt;xsl:value-of select=&quot;tns1:folio&quot;/>&lt;/tns1:folio>&lt;/xsl:if>&lt;/tns1:cliente_unico>&lt;/xsl:for-each>&lt;xsl:for-each select=&quot;tns1:cliente_tienda&quot;>&lt;tns1:cliente_tienda>&lt;xsl:if test=&quot;tns1:negocio&quot;>&lt;tns1:negocio>&lt;xsl:value-of select=&quot;tns1:negocio&quot;/>&lt;/tns1:negocio>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:tienda&quot;>&lt;tns1:tienda>&lt;xsl:value-of select=&quot;tns1:tienda&quot;/>&lt;/tns1:tienda>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente&quot;>&lt;tns1:cliente>&lt;xsl:value-of select=&quot;tns1:cliente&quot;/>&lt;/tns1:cliente>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:digito_verificador&quot;>&lt;tns1:digito_verificador>&lt;xsl:value-of select=&quot;tns1:digito_verificador&quot;/>&lt;/tns1:digito_verificador>&lt;/xsl:if>&lt;/tns1:cliente_tienda>&lt;/xsl:for-each>&lt;/tns1:respuesta>&lt;/xsl:for-each>&lt;xsl:for-each select=&quot;$GetCustomerForCart/tns1:error&quot;>&lt;tns1:error>&lt;xsl:if test=&quot;tns1:codigo&quot;>&lt;tns1:codigo>&lt;xsl:value-of select=&quot;tns1:codigo&quot;/>&lt;/tns1:codigo>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:detalle&quot;>&lt;tns1:detalle>&lt;xsl:value-of select=&quot;tns1:detalle&quot;/>&lt;/tns1:detalle>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:mensaje&quot;>&lt;tns1:mensaje>&lt;xsl:value-of select=&quot;tns1:mensaje&quot;/>&lt;/tns1:mensaje>&lt;/xsl:if>&lt;/tns1:error>&lt;/xsl:for-each>&lt;/tns1:ResponseDatosClienteElement>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/xsl:template>&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.mapper"
                            version="6.0.0.001"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities"
                            xmlns:json_1528415892858="http://tns.tibco.com/bw/json/1528415892858" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Mapper"/>
                                    <value
                                    inputQName="json_1528415892858:ResponseDatosClienteElement" xsi:type="generalactivities:Mapper"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension inputVariable="MapCU-input"
                    name="MapCU" outputVariable="MapCU"
                    tibex:xpdlId="0ad96401-aaaa-4bea-be47-024622cb3b5f" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="StartToGetCustomerForCU"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="MapperToGetCustomerForCU"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/json/1528840160866&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns3=&quot;http://xmlns.example.com/Search/parameters&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:template name=&quot;MapCU-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns2:SearchForCU>&#xa;            &lt;tns2:country>&#xa;                &lt;xsl:value-of select=&quot;substring($Start/tns3:reference, 1, 2)&quot;/>&#xa;            &lt;/tns2:country>&#xa;            &lt;tns2:channel>&#xa;                &lt;xsl:value-of select=&quot;substring($Start/tns3:reference, 3, 2)&quot;/>&#xa;            &lt;/tns2:channel>&#xa;            &lt;tns2:branch>&#xa;                &lt;xsl:value-of select=&quot;substring($Start/tns3:reference, 5, 4)&quot;/>&#xa;            &lt;/tns2:branch>&#xa;            &lt;tns2:folio>&#xa;                &lt;xsl:value-of select=&quot;substring($Start/tns3:reference, 9)&quot;/>&#xa;            &lt;/tns2:folio>&#xa;        &lt;/tns2:SearchForCU>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.mapper"
                            version="6.0.0.001"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities"
                            xmlns:json_1528840160866="http://tns.tibco.com/bw/json/1528840160866" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Mapper"/>
                                    <value
                                    inputQName="json_1528840160866:SearchForCU" xsi:type="generalactivities:Mapper"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension inputVariable="MapName-input"
                    name="MapName" outputVariable="MapName"
                    tibex:xpdlId="6ccecebe-5994-4d52-af1a-1663e769861f" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="StartToGetCustomerForName"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="MapperToGetCustomerForName"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/json/1528840160866&quot; xmlns:tns3=&quot;http://xmlns.example.com/Search/parameters&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:template name=&quot;MapName-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns2:SearchForName>&#xa;            &lt;xsl:variable name=&quot;var&quot; select=&quot;tokenize($Start/tns3:reference, ',')&quot;/>&#xa;            &lt;xsl:if test=&quot;$var[1]&quot;>&#xa;                &lt;tns2:name>&#xa;                    &lt;xsl:value-of select=&quot;$var[1]&quot;/>&#xa;                &lt;/tns2:name>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$var[2]&quot;>&#xa;                &lt;tns2:firstName>&#xa;                    &lt;xsl:value-of select=&quot;$var[2]&quot;/>&#xa;                &lt;/tns2:firstName>&#xa;            &lt;/xsl:if>&#xa;            &lt;xsl:if test=&quot;$var[3]&quot;>&#xa;                &lt;tns2:lastName>&#xa;                    &lt;xsl:value-of select=&quot;$var[3]&quot;/>&#xa;                &lt;/tns2:lastName>&#xa;            &lt;/xsl:if>&#xa;        &lt;/tns2:SearchForName>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.mapper"
                            version="6.0.0.001"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities"
                            xmlns:json_1528840160866="http://tns.tibco.com/bw/json/1528840160866" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Mapper"/>
                                    <value
                                    inputQName="json_1528840160866:SearchForName" xsi:type="generalactivities:Mapper"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity inputVariable="CreditLineQuery-input"
                    name="CreditLineQuery"
                    outputVariable="CreditLineQuery"
                    tibex:xpdlId="4b8f00b3-922d-4333-bcd2-b6d91d674229"
                    type="bw.generalactivities.callprocess" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="MapCustomersToCreditLineQuery"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="CreditLineQueryToMapCustomerAcu"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.elektra.com.mx/sales/processes/CreditLineQuery&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/json/1528415892858&quot; version=&quot;2.0&quot;>&#xa;    &lt;xsl:param name=&quot;MapCustomers&quot;/>&#xa;    &lt;xsl:template name=&quot;CreditLineQuery-input&quot; match=&quot;/&quot;>&#xa;        &lt;tns:Start>&#xa;            &lt;tns:countryId>&#xa;                &lt;xsl:value-of select=&quot;$MapCustomers/tns1:respuesta[1]/tns1:cliente_unico/tns1:pais&quot;/>&#xa;            &lt;/tns:countryId>&#xa;            &lt;tns:channelId>&#xa;                &lt;xsl:value-of select=&quot;$MapCustomers/tns1:respuesta[1]/tns1:cliente_unico/tns1:canal&quot;/>&#xa;            &lt;/tns:channelId>&#xa;            &lt;tns:branchId>&#xa;                &lt;xsl:value-of select=&quot;$MapCustomers/tns1:respuesta[1]/tns1:cliente_unico/tns1:sucursal&quot;/>&#xa;            &lt;/tns:branchId>&#xa;            &lt;tns:folioId>&#xa;                &lt;xsl:value-of select=&quot;$MapCustomers/tns1:respuesta[1]/tns1:cliente_unico/tns1:folio&quot;/>&#xa;            &lt;/tns:folioId>&#xa;        &lt;/tns:Start>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:CallProcess
                        subProcessName="mx.com.elektra.salesmanagementapplication.creditline.CreditLineQuery" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    inputVariable="MapCustomerAcu-input"
                    name="MapCustomerAcu"
                    outputVariable="MapCustomerAcu"
                    tibex:xpdlId="9b73a88e-fc16-4fee-9105-dbd118fa4ecd" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="CreditLineQueryToMapCustomerAcu"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="MapCustomerAcuToEnd"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns2=&quot;http://tns.tibco.com/bw/json/1528840160866&quot; xmlns:tns=&quot;http://www.elektra.com.mx/sales/processes/CreditLineQuery&quot; xmlns:tns1=&quot;http://tns.tibco.com/bw/json/1528415892858&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.0&quot;>&lt;xsl:param name=&quot;MapCustomers&quot;/>&lt;xsl:param name=&quot;CreditLineQuery&quot;/>&lt;xsl:template name=&quot;MapCustomerAcu-input&quot; match=&quot;/&quot;>&lt;xsl:choose>&lt;xsl:when test=&quot;compare($CreditLineQuery/tns:creditLineStatus, &amp;quot;DESCONOCIDO&amp;quot;)=0&quot;>&lt;tns2:SearchCustomerElement>&lt;xsl:for-each select=&quot;$MapCustomers/tns1:respuesta&quot;>&lt;tns2:Customers>&lt;tns2:uniquecustomerNumber>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:pais&quot;>&lt;tns2:country>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:pais&quot;/>&lt;/tns2:country>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:canal&quot;>&lt;tns2:channel>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:canal&quot;/>&lt;/tns2:channel>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:sucursal&quot;>&lt;tns2:branch>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:sucursal&quot;/>&lt;/tns2:branch>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:folio&quot;>&lt;tns2:folio>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:folio&quot;/>&lt;/tns2:folio>&lt;/xsl:if>&lt;/tns2:uniquecustomerNumber>&lt;xsl:if test=&quot;tns1:nombre&quot;>&lt;tns2:name>&lt;xsl:value-of select=&quot;tns1:nombre&quot;/>&lt;/tns2:name>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_paterno&quot;>&lt;tns2:firstLastName>&lt;xsl:value-of select=&quot;tns1:apellido_paterno&quot;/>&lt;/tns2:firstLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_materno&quot;>&lt;tns2:secondLastName>&lt;xsl:value-of select=&quot;tns1:apellido_materno&quot;/>&lt;/tns2:secondLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:fecha_nacimiento&quot;>&lt;tns2:birthDate>&lt;xsl:value-of select=&quot;tns1:fecha_nacimiento&quot;/>&lt;/tns2:birthDate>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:correo_electronico&quot;>&lt;tns2:email>&lt;xsl:value-of select=&quot;tns1:correo_electronico&quot;/>&lt;/tns2:email>&lt;/xsl:if>&lt;xsl:if test=&quot;string-length(tns1:celular)>2&quot;>&lt;tns2:phones>&lt;tns2:name>&lt;xsl:value-of select=&quot;&amp;quot;Personal&amp;quot;&quot;/>&lt;/tns2:name>&lt;xsl:if test=&quot;tns1:celular&quot;>&lt;tns2:phoneNumber>&lt;xsl:value-of select=&quot;tns1:celular&quot;/>&lt;/tns2:phoneNumber>&lt;/xsl:if>&lt;/tns2:phones>&lt;/xsl:if>&lt;xsl:if test=&quot;string-length(tns1:telefono_fijo)>2&quot;>&lt;tns2:phones>&lt;tns2:name>&lt;xsl:value-of select=&quot;&amp;quot;Casa&amp;quot;&quot;/>&lt;/tns2:name>&lt;xsl:if test=&quot;tns1:telefono_fijo&quot;>&lt;tns2:phoneNumber>&lt;xsl:value-of select=&quot;tns1:telefono_fijo&quot;/>&lt;/tns2:phoneNumber>&lt;/xsl:if>&lt;/tns2:phones>&lt;/xsl:if>&lt;tns2:totalPaymentCapacity>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:totalPaymentCapacity>&lt;tns2:paymentCapacityAvailable>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:paymentCapacityAvailable>&lt;tns2:credlinestatus>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:credlinestatus>&lt;tns2:cenlinestatus>&lt;xsl:value-of select=&quot;0&quot;/>&lt;/tns2:cenlinestatus>&lt;xsl:if test=&quot;tns1:sexo&quot;>&lt;tns2:gender>&lt;xsl:value-of select=&quot;tns1:sexo&quot;/>&lt;/tns2:gender>&lt;/xsl:if>&lt;/tns2:Customers>&lt;/xsl:for-each>&lt;xsl:if test=&quot;exists($MapCustomers/tns1:error)&quot;>&lt;tns2:CustomersNotFound>&lt;xsl:if test=&quot;$MapCustomers/tns1:error/tns1:detalle&quot;>&lt;tns2:reference>&lt;xsl:value-of select=&quot;$MapCustomers/tns1:error/tns1:detalle&quot;/>&lt;/tns2:reference>&lt;/xsl:if>&lt;xsl:if test=&quot;$MapCustomers/tns1:error/tns1:mensaje&quot;>&lt;tns2:message>&lt;xsl:value-of select=&quot;$MapCustomers/tns1:error/tns1:mensaje&quot;/>&lt;/tns2:message>&lt;/xsl:if>&lt;/tns2:CustomersNotFound>&lt;/xsl:if>&lt;/tns2:SearchCustomerElement>&lt;/xsl:when>&lt;xsl:otherwise>&lt;tns2:SearchCustomerElement>&lt;xsl:for-each select=&quot;$MapCustomers/tns1:respuesta&quot;>&lt;tns2:Customers>&lt;tns2:uniquecustomerNumber>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:pais&quot;>&lt;tns2:country>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:pais&quot;/>&lt;/tns2:country>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:canal&quot;>&lt;tns2:channel>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:canal&quot;/>&lt;/tns2:channel>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:sucursal&quot;>&lt;tns2:branch>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:sucursal&quot;/>&lt;/tns2:branch>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:cliente_unico/tns1:folio&quot;>&lt;tns2:folio>&lt;xsl:value-of select=&quot;tns1:cliente_unico/tns1:folio&quot;/>&lt;/tns2:folio>&lt;/xsl:if>&lt;/tns2:uniquecustomerNumber>&lt;xsl:if test=&quot;tns1:nombre&quot;>&lt;tns2:name>&lt;xsl:value-of select=&quot;tns1:nombre&quot;/>&lt;/tns2:name>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_paterno&quot;>&lt;tns2:firstLastName>&lt;xsl:value-of select=&quot;tns1:apellido_paterno&quot;/>&lt;/tns2:firstLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:apellido_materno&quot;>&lt;tns2:secondLastName>&lt;xsl:value-of select=&quot;tns1:apellido_materno&quot;/>&lt;/tns2:secondLastName>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:fecha_nacimiento&quot;>&lt;tns2:birthDate>&lt;xsl:value-of select=&quot;tns1:fecha_nacimiento&quot;/>&lt;/tns2:birthDate>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:correo_electronico&quot;>&lt;tns2:email>&lt;xsl:value-of select=&quot;tns1:correo_electronico&quot;/>&lt;/tns2:email>&lt;/xsl:if>&lt;xsl:if test=&quot;string-length(tns1:celular)&quot;>&lt;tns2:phones>&lt;tns2:name>&lt;xsl:value-of select=&quot;&amp;quot;Personal&amp;quot;&quot;/>&lt;/tns2:name>&lt;xsl:if test=&quot;tns1:celular&quot;>&lt;tns2:phoneNumber>&lt;xsl:value-of select=&quot;tns1:celular&quot;/>&lt;/tns2:phoneNumber>&lt;/xsl:if>&lt;/tns2:phones>&lt;/xsl:if>&lt;xsl:if test=&quot;string-length(tns1:telefono_fijo)&quot;>&lt;tns2:phones>&lt;tns2:name>&lt;xsl:value-of select=&quot;&amp;quot;Casa&amp;quot;&quot;/>&lt;/tns2:name>&lt;xsl:if test=&quot;tns1:telefono_fijo&quot;>&lt;tns2:phoneNumber>&lt;xsl:value-of select=&quot;tns1:telefono_fijo&quot;/>&lt;/tns2:phoneNumber>&lt;/xsl:if>&lt;/tns2:phones>&lt;/xsl:if>&lt;tns2:address>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:calle/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:calle/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:street>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:calle&quot;/>&lt;/tns2:street>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:numero_exterior/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:numero_exterior/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:numberExt>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:numero_exterior&quot;/>&lt;/tns2:numberExt>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:numero_interior/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:numero_interior/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:numberInt>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:numero_interior&quot;/>&lt;/tns2:numberInt>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:codigo_postal/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:codigo_postal/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:postalCode>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:codigo_postal&quot;/>&lt;/tns2:postalCode>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:estado/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:estado/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:government>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:estado&quot;/>&lt;/tns2:government>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:poblacion/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:poblacion/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:town>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:poblacion&quot;/>&lt;/tns2:town>&lt;/xsl:if>&lt;xsl:if test=&quot;not((tns1:direccion/tns1:colonia/@xsi:nil=(&amp;quot;true&amp;quot;)) or (tns1:direccion/tns1:colonia/@xsi:nil=(&amp;quot;1&amp;quot;)))&quot;>&lt;tns2:colony>&lt;xsl:value-of select=&quot;tns1:direccion/tns1:colonia&quot;/>&lt;/tns2:colony>&lt;/xsl:if>&lt;/tns2:address>&lt;tns2:totalPaymentCapacity>&lt;xsl:value-of select=&quot;xsd:integer($CreditLineQuery/tns:totalPaymentCapacity)&quot;/>&lt;/tns2:totalPaymentCapacity>&lt;tns2:paymentCapacityAvailable>&lt;xsl:value-of select=&quot;xsd:integer($CreditLineQuery/tns:availablePaymentCapacity)&quot;/>&lt;/tns2:paymentCapacityAvailable>&lt;xsl:if test=&quot;$CreditLineQuery/tns:credStatus&quot;>&lt;tns2:credlinestatus>&lt;xsl:value-of select=&quot;$CreditLineQuery/tns:credStatus&quot;/>&lt;/tns2:credlinestatus>&lt;/xsl:if>&lt;xsl:if test=&quot;$CreditLineQuery/tns:cenStatus&quot;>&lt;tns2:cenlinestatus>&lt;xsl:value-of select=&quot;$CreditLineQuery/tns:cenStatus&quot;/>&lt;/tns2:cenlinestatus>&lt;/xsl:if>&lt;xsl:if test=&quot;tns1:sexo&quot;>&lt;tns2:gender>&lt;xsl:value-of select=&quot;tns1:sexo&quot;/>&lt;/tns2:gender>&lt;/xsl:if>&lt;/tns2:Customers>&lt;/xsl:for-each>&lt;xsl:if test=&quot;exists($MapCustomers/tns1:error)&quot;>&lt;tns2:CustomersNotFound>&lt;xsl:if test=&quot;$MapCustomers/tns1:error/tns1:detalle&quot;>&lt;tns2:reference>&lt;xsl:value-of select=&quot;$MapCustomers/tns1:error/tns1:detalle&quot;/>&lt;/tns2:reference>&lt;/xsl:if>&lt;xsl:if test=&quot;$MapCustomers/tns1:error/tns1:mensaje&quot;>&lt;tns2:message>&lt;xsl:value-of select=&quot;$MapCustomers/tns1:error/tns1:mensaje&quot;/>&lt;/tns2:message>&lt;/xsl:if>&lt;/tns2:CustomersNotFound>&lt;/xsl:if>&lt;/tns2:SearchCustomerElement>&lt;/xsl:otherwise>&lt;/xsl:choose>&lt;/xsl:template>&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.mapper"
                            version="6.0.0.001"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities"
                            xmlns:json_1528840160866="http://tns.tibco.com/bw/json/1528840160866" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Mapper"/>
                                    <value
                                    inputQName="json_1528840160866:SearchCustomerElement" xsi:type="generalactivities:Mapper"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
        </bpws:flow>
    </bpws:scope>
</bpws:process>
